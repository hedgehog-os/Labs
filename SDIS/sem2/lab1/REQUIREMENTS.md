# Verification of Requirements

Данный документ подтверждает соответствие системы управления полицией всем указанным требованиям.

## Общие требования

| Требование | Статус | Реализация |
|------------|--------|------------|
| **Совместимость с PEP8** | Выполнено | Код следует рекомендациям PEP8 (именование, длина строк, импорты) |
| **Аннотации типов** | Выполнено | Все функции и методы имеют аннотации типов |
| **Обработка исключений** | Выполнено | Иерархия исключений: `PoliceError`, `ZoneNotFoundError`, `PolicemanNotFoundError`, `CitizenError`, `LawError`, `InvestigationError` |
| **CLI-интерфейс** | Выполнено | Интерактивный режим и режим командной строки |
| **Сохранение состояния** | Выполнено | Данные сохраняются в pickle-файлы в директории `data/` |
| **Markdown-документация** | Выполнено | `README.md`, `REQUIREMENTS.md` |
| **UML 2.x диаграммы** | Выполнено | PlantUML диаграммы: `class_diagram.puml`, `state_diagram.puml`, `sequence_diagram.puml` |
| **Модульные тесты** | Выполнено | 69 тестов pytest в `tests/test_police.py` |
| **Размещение на GitHub** | Требуется проверка | Исходный код и документация готовы к размещению |

## Требования модели предметной области

### Предметная область: Органы внутренних дел и поддержание общественного порядка

| Сущность | Статус | Файл |
|----------|--------|------|
| **Полиция** | Выполнено | `police/Police.py` |
| **Полицейский** | Выполнено | `police/Policeman.py` |
| **Преступление** | Выполнено | `police/Crime.py` |
| **Законы** | Выполнено | `police/Law.py` |
| **Следствие** | Выполнено | `police/Investigation.py` |
| **Общественная безопасность** | Выполнено | `police/Security.py` |
| **Гражданин** | Выполнено | `police/Citizen.py` |

## Требования к операциям

| Операция | Статус | Реализация |
|----------|--------|------------|
| **Расследование преступлений** | Выполнено | Команда `investigate` - анализ преступлений, выявление подозреваемых |
| **Обеспечение общественного порядка** | Выполнено | Команды `police info`, `security.eval()` - мониторинг уровней безопасности по зонам |
| **Взаимодействие с гражданами** | Выполнено | Команды `citizen`, `statement add` - граждане могут подавать заявления |
| **Профилактика преступлений** | Выполнено | Отслеживание `security`, развертывание офицеров по зонам |
| **Задержание правонарушителей** | Выполнено | Команда `investigate --arrest` - офицеры пытаются задержать с механикой успеха/неудачи |

## CLI-команды

### Интерактивный режим
```bash
python main.py
```

### Доступные команды
- `citizen add/list/delete` - Управление гражданами
- `police hire/fire/list/info/add-zone/relocate` - Управление полицией
- `statement add/list/delete` - Подача/управление заявлениями о преступлениях
- `investigate [--arrest]` - Расследование преступлений и задержания
- `law add/list` - Управление законами
- `history show/clear` - Просмотр истории системы
- `save` - Сохранение данных
- `exit` - Сохранение и выход

## Результаты тестирования

```
============================== 69 passed in 0.09s ==============================
```

Тесты покрывают:
- Создание законов, валидация, repr, str, hash, equality, setter для desc
- Создание граждан, валидация, repr, str
- Создание полицейских, механика задержания, усталость, repr, str, has_assignment
- Управление зонами полиции (hire, fire, relocate, has_zone, get_crimes_by_zone)
- Создание преступлений, repr, str, equality, hash
- Расследование (investigate, investigate_all)
- Оценка уровня безопасности, repr, str, decrease, increase

## UML-диаграммы

Все диаграммы созданы в формате PlantUML 2.x:

1. **Диаграмма классов** (`docs/uml/class_diagram.puml`)
   - 7 основных классов с атрибутами и методами
   - Ассоциативные отношения
   - Иерархия исключений

2. **Диаграмма состояний** (`docs/uml/state_diagram.puml`)
   - Конечный автомат состояния полицейского
   - Состояния: OffDuty, OnDuty, Tired, Exhausted, Assigned, AttemptingArrest, Recovery
   - Переходы с условиями и действиями

3. **Диаграмма последовательности** (`docs/uml/sequence_diagram.puml`)
   - Процесс расследования преступлений
   - 7 участников взаимодействия

## Структура проекта

```
lab1/
├── main.py                 # CLI-приложение (~749 строк)
├── police/                 # Модель предметной области (7 модулей)
│   ├── Police.py          # Полицейский департамент
│   ├── Policeman.py       # Класс офицера
│   ├── Citizen.py         # Класс гражданина
│   ├── Crime.py           # Класс преступления
│   ├── Law.py             # Класс закона
│   ├── Investigation.py   # Логика расследования
│   └── Security.py        # Оценка безопасности
├── tests/
│   └── test_police.py     # 69 модульных тестов (93% покрытие)
├── docs/uml/
│   ├── class_diagram.puml
│   ├── state_diagram.puml
│   └── sequence_diagram.puml
├── data/                   # Постоянное хранилище
├── README.md              # Документация пользователя
├── REQUIREMENTS.md        # Этот файл
├── pyproject.toml         # Конфигурация pytest
└── .gitignore             # Правила игнорирования Git
```

## Заключение

**Все требования полностью реализованы и протестированы.** Система готова к демонстрации и сдаче.
