@startuml class_diagram
' Police Management System - Class Diagram
' UML 2.5

skinparam defaultFontName "Arial"
skinparam fontSize 10
skinparam classAttributeIconSize 0
skinparam roundcorner 5

title Police Management System - Class Diagram

' Exceptions
class PoliceError {
    + __init__(message: str)
}
class ZoneNotFoundError {
    + __init__(message: str)
}
class PolicemanNotFoundError {
    + __init__(message: str)
}

PoliceError <|-- ZoneNotFoundError
PoliceError <|-- PolicemanNotFoundError

' Domain classes
class Law {
    - article: int
    - severity: int
    - desc: str
    + __init__(article: int, severity: int, desc: str)
    + article: int <<property>>
    + severity: int <<property>>
    + desc: str <<property>>
}

class Citizen {
    - name: str
    + __init__(name: str)
    + name: str <<property>>
    + submit_application(...) : Crime
}

class Crime {
    - description: str
    - suspect: Citizen
    - zone: str
    - law: Law
    + __init__(suspect, description, zone, law)
    + severity: int <<property>>
}

class Policeman {
    - lastname: str
    - zone: str
    - is_work: bool
    - fatigue: int
    - criminal: tuple | None
    + __init__(lastname: str, zone: str, is_work: bool)
    + arrest() : bool
    + assign_crime(criminal: tuple) : None
    + recovery() : None
    + has_assignment: bool <<property>>
}

class Police {
    - zones: dict[str, dict]
    + __init__(zones: dict)
    + hire(policeman: Policeman, zone: str) : None
    + fire(policeman: Policeman) : None
    + relocate(policemen: list, zone: str) : None
    + get_policemen() : list[Policeman]
    + update_zone_security(zone: str, citizens: int, crimes: int) : None
}

class Investigation {
    - crimes: list[Crime]
    + __init__(crimes: list[Crime])
    + investigate_all() : list[tuple[Crime, int]]
}

class Security {
    - level: float
    + __init__(level: float)
    + eval(citizens: list[Citizen], crimes: list[Crime]) : float
    + decrease(amount: float) : None
    + increase(amount: float) : None
}

' Relationships
Crime "1" *-- "1" Citizen : suspect
Crime "1" *-- "1" Law : law
Police "1" *-- "0..*" Policeman : employs
Policeman "0..*" --> "0..1" Crime : investigates
Investigation "1" --> "1..*" Crime : analyzes
Security "1" ..> "0..*" Citizen : evaluates
Security "1" ..> "0..*" Crime : evaluates
Citizen "1" ..> "0..*" Crime : reports

note right of Police
    Zone structure:
    {
        "zone_name": {
            "policemen": list[Policeman],
            "security": float
        }
    }
end note

@enduml
